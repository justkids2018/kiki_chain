# Clean Architecture ä¼˜åŒ–æ¶æ„å›¾

**åˆ›å»ºæ—¶é—´**: 2025å¹´10æœˆ25æ—¥  
**ç‰ˆæœ¬**: v2.0 (ä¼˜åŒ–ç‰ˆ)

---

## ğŸ—ï¸ æ•´ä½“åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Presentation Layer                         â”‚
â”‚                         (è¡¨ç°å±‚)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚    Pages     â”‚  â”‚ Controllers  â”‚  â”‚   Widgets    â”‚          â”‚
â”‚  â”‚   (UIç»„ä»¶)    â”‚  â”‚  (GetXçŠ¶æ€)   â”‚  â”‚  (å¯å¤ç”¨ç»„ä»¶) â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â†“                 â†“                  â†“                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                           â†“                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ (ä¾èµ–æ¥å£)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Domain Layer                               â”‚
â”‚                        (é¢†åŸŸå±‚)                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Repository Interfaces (æ¥å£)                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚  â”‚IAuthRepository  â”‚  â”‚IUserRepository  â”‚  ...           â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Use Cases (ä¸šåŠ¡ç”¨ä¾‹)                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚LoginUseCase â”‚  â”‚RegisterUseCaseâ”‚  â”‚LogoutUseCase  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  Entities (ä¸šåŠ¡å®ä½“)                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚ User â”‚  â”‚ Vocabulary â”‚  â”‚ Student  â”‚  ...            â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†‘ (å®ç°æ¥å£)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Data Layer                                â”‚
â”‚                        (æ•°æ®å±‚)                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Repository Implementations (ä»“åº“å®ç°)            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚  â”‚AuthRepositoryImpl    â”‚  â”‚UserRepositoryImpl    â”‚ ...  â”‚  â”‚
â”‚  â”‚  â”‚implements            â”‚  â”‚implements            â”‚      â”‚  â”‚
â”‚  â”‚  â”‚IAuthRepository       â”‚  â”‚IUserRepository       â”‚      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 Data Services (æ•°æ®æœåŠ¡)                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚LocalStorageService  â”‚  â”‚  UserService        â”‚  ...   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Core Layer                                â”‚
â”‚                        (æ ¸å¿ƒå±‚)                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Dependency Injection (ä¾èµ–æ³¨å…¥)                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚            ServiceLocator (æœåŠ¡å®šä½å™¨)              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - ç®¡ç†æ‰€æœ‰æ¥å£ä¸å®ç°çš„æ˜ å°„                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - æ‡’åŠ è½½åˆ›å»ºå•ä¾‹                                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - æ”¯æŒæµ‹è¯•Mockæ›¿æ¢                                 â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Network (ç½‘ç»œå±‚)                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚NetworkClient â”‚â†’ â”‚RequestManagerâ”‚â†’ â”‚ Interceptors â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            Infrastructure (åŸºç¡€è®¾æ–½)                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ApiConfig â”‚ â”‚AppLoggerâ”‚ â”‚Exceptionsâ”‚ â”‚Constants â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ä¼˜åŒ–åçš„ç›®å½•ç»“æ„

```
kiki_web/                              # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ lib/                               # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ core/                          # æ ¸å¿ƒåŸºç¡€è®¾æ–½å±‚
â”‚   â”‚   â”œâ”€â”€ di/                        # ğŸ†• ä¾èµ–æ³¨å…¥
â”‚   â”‚   â”‚   â””â”€â”€ service_locator.dart   # ServiceLocator (æ›¿ä»£AppServices)
â”‚   â”‚   â”œâ”€â”€ network/                   # ç½‘ç»œå±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ network_client.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ request_manager.dart
â”‚   â”‚   â”‚   â””â”€â”€ interceptors/
â”‚   â”‚   â”‚       â”œâ”€â”€ auth_interceptor.dart
â”‚   â”‚   â”‚       â”œâ”€â”€ retry_interceptor.dart
â”‚   â”‚   â”‚       â””â”€â”€ logging_interceptor.dart
â”‚   â”‚   â”œâ”€â”€ config/                    # APIé…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ api_config.dart
â”‚   â”‚   â”œâ”€â”€ constants/                 # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ api_endpoints.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ app_constants.dart
â”‚   â”‚   â”‚   â””â”€â”€ app_colors.dart
â”‚   â”‚   â”œâ”€â”€ exceptions/                # å¼‚å¸¸ä½“ç³»
â”‚   â”‚   â”‚   â”œâ”€â”€ app_exceptions.dart
â”‚   â”‚   â”‚   â””â”€â”€ network_exceptions.dart
â”‚   â”‚   â”œâ”€â”€ logging/                   # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â”‚   â””â”€â”€ app_logger.dart
â”‚   â”‚   â””â”€â”€ utils/                     # å·¥å…·ç±»
â”‚   â”‚       â”œâ”€â”€ validators.dart
â”‚   â”‚       â””â”€â”€ formatters.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ domain/                        # ğŸ”¥ é¢†åŸŸå±‚ (æ ¸å¿ƒä¸šåŠ¡)
â”‚   â”‚   â”œâ”€â”€ entities/                  # ä¸šåŠ¡å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ user.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ vocabulary.dart
â”‚   â”‚   â”‚   â””â”€â”€ student.dart
â”‚   â”‚   â”œâ”€â”€ repositories/              # ğŸ†• Repositoryæ¥å£å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ i_auth_repository.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ i_user_repository.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ i_vocabulary_repository.dart
â”‚   â”‚   â”‚   â””â”€â”€ i_storage_repository.dart
â”‚   â”‚   â””â”€â”€ usecases/                  # ğŸ†• ä¸šåŠ¡ç”¨ä¾‹
â”‚   â”‚       â”œâ”€â”€ auth/
â”‚   â”‚       â”‚   â”œâ”€â”€ login_usecase.dart
â”‚   â”‚       â”‚   â”œâ”€â”€ register_usecase.dart
â”‚   â”‚       â”‚   â””â”€â”€ logout_usecase.dart
â”‚   â”‚       â”œâ”€â”€ user/
â”‚   â”‚       â”‚   â”œâ”€â”€ get_user_profile_usecase.dart
â”‚   â”‚       â”‚   â””â”€â”€ update_user_profile_usecase.dart
â”‚   â”‚       â””â”€â”€ vocabulary/
â”‚   â”‚           â”œâ”€â”€ get_vocabulary_list_usecase.dart
â”‚   â”‚           â””â”€â”€ create_vocabulary_usecase.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                          # æ•°æ®å±‚
â”‚   â”‚   â”œâ”€â”€ repositories/              # Repositoryæ¥å£å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_repository_impl.dart          # å®ç°IAuthRepository
â”‚   â”‚   â”‚   â”œâ”€â”€ user_repository_impl.dart          # å®ç°IUserRepository
â”‚   â”‚   â”‚   â”œâ”€â”€ vocabulary_repository_impl.dart    # å®ç°IVocabularyRepository
â”‚   â”‚   â”‚   â””â”€â”€ storage_repository_impl.dart       # å®ç°IStorageRepository
â”‚   â”‚   â””â”€â”€ services/                  # æ•°æ®æœåŠ¡
â”‚   â”‚       â”œâ”€â”€ local_storage_service.dart
â”‚   â”‚       â””â”€â”€ user_service.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ presentation/                  # è¡¨ç°å±‚
â”‚   â”‚   â”œâ”€â”€ controllers/               # GetXçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_controller.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ user_controller.dart
â”‚   â”‚   â”‚   â””â”€â”€ vocabulary_controller.dart
â”‚   â”‚   â”œâ”€â”€ pages/                     # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login_page.dart
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ register_page.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â””â”€â”€ vocabulary/
â”‚   â”‚   â””â”€â”€ widgets/                   # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ common/
â”‚   â”‚       â”‚   â”œâ”€â”€ custom_button.dart
â”‚   â”‚       â”‚   â””â”€â”€ loading_indicator.dart
â”‚   â”‚       â””â”€â”€ dialogs/
â”‚   â”‚
â”‚   â”œâ”€â”€ l10n/                          # å›½é™…åŒ–
â”‚   â”‚   â”œâ”€â”€ app_en.arb
â”‚   â”‚   â”œâ”€â”€ app_zh.arb
â”‚   â”‚   â””â”€â”€ app_zh_TW.arb
â”‚   â”‚
â”‚   â”œâ”€â”€ generated/                     # è‡ªåŠ¨ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ app_localizations.dart
â”‚   â”‚
â”‚   â””â”€â”€ main.dart                      # åº”ç”¨å…¥å£
â”‚
â”œâ”€â”€ config/                            # ç¯å¢ƒé…ç½® (ä¸libåŒçº§)
â”‚   â”œâ”€â”€ dev.env                        # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ test.env                       # æµ‹è¯•ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ prod.env                       # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”‚
â”œâ”€â”€ doc/                               # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ framework/                     # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                           # APIæ–‡æ¡£
â”‚   â””â”€â”€ task/                          # ä»»åŠ¡æ–‡æ¡£
â”‚
â”œâ”€â”€ assets/                            # èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ images/
â”‚
â”œâ”€â”€ test/                              # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ pubspec.yaml                       # ä¾èµ–é…ç½®
â””â”€â”€ README.md                          # é¡¹ç›®è¯´æ˜
```

---

## ğŸ”„ ä¾èµ–å…³ç³»è¯¦ç»†å›¾

### 1. ç™»å½•åŠŸèƒ½çš„å®Œæ•´ä¾èµ–é“¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       LoginPage (UI)                    â”‚
        â”‚  - è¡¨å•è¾“å…¥                              â”‚
        â”‚  - æ˜¾ç¤ºloading/é”™è¯¯                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“ (ç”¨æˆ·äº¤äº’)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       AuthController (çŠ¶æ€ç®¡ç†)              â”‚
        â”‚  - ç®¡ç†è¡¨å•çŠ¶æ€                              â”‚
        â”‚  - å¤„ç†UI loading                           â”‚
        â”‚  - è°ƒç”¨UseCase                              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“ (ä¾èµ–æ¥å£)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Domain Layer                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       LoginUseCase (ä¸šåŠ¡ç”¨ä¾‹)                â”‚
        â”‚  ä¸šåŠ¡é€»è¾‘:                                    â”‚
        â”‚  1. å‚æ•°éªŒè¯(identifier/password)           â”‚
        â”‚  2. è°ƒç”¨IAuthRepository.login()            â”‚
        â”‚  3. ä¿å­˜tokenåˆ°IStorageRepository          â”‚
        â”‚  4. è¿”å›Userå®ä½“                            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“ (ä¾èµ–æ¥å£)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   IAuthRepository (æ¥å£å®šä¹‰)                 â”‚
        â”‚   + login(identifier, password): User       â”‚
        â”‚   + register(...): User                     â”‚
        â”‚   + logout(): void                          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†‘ (å®ç°æ¥å£)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Data Layer                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  AuthRepositoryImpl (æ¥å£å®ç°)               â”‚
        â”‚  å®ç°é€»è¾‘:                                    â”‚
        â”‚  1. è°ƒç”¨RequestManager.post()              â”‚
        â”‚  2. å¤„ç†å“åº” (ApiResponseHandler)          â”‚
        â”‚  3. è½¬æ¢ä¸ºUserå®ä½“                          â”‚
        â”‚  4. ç»Ÿä¸€å¼‚å¸¸å¤„ç†                            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“ (ä½¿ç”¨)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Core Layer                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       RequestManager (ç½‘ç»œè¯·æ±‚)              â”‚
        â”‚  - å‘é€HTTPè¯·æ±‚                              â”‚
        â”‚  - è‡ªåŠ¨æ·»åŠ token                             â”‚
        â”‚  - é”™è¯¯é‡è¯•                                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       NetworkClient (HTTPå®¢æˆ·ç«¯)             â”‚
        â”‚  - Dioé…ç½®                                   â”‚
        â”‚  - æ‹¦æˆªå™¨ç®¡ç†                                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ServiceLocator ä¾èµ–æ³¨å…¥æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ServiceLocator (æœåŠ¡å®šä½å™¨)                      â”‚
â”‚                                                              â”‚
â”‚  æ¥å£æ³¨å†Œè¡¨:                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ IAuthRepository      â†’ AuthRepositoryImpl          â”‚    â”‚
â”‚  â”‚ IUserRepository      â†’ UserRepositoryImpl          â”‚    â”‚
â”‚  â”‚ IStorageRepository   â†’ StorageRepositoryImpl       â”‚    â”‚
â”‚  â”‚ LoginUseCase         â†’ LoginUseCase(repo, storage) â”‚    â”‚
â”‚  â”‚ AuthController       â†’ AuthController(usecases)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                              â”‚
â”‚  ä½¿ç”¨æ–¹å¼:                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ // è·å–æ¥å£å®ä¾‹                                     â”‚    â”‚
â”‚  â”‚ final authRepo = services.authRepository;          â”‚    â”‚
â”‚  â”‚ // è¿”å›: IAuthRepository (æ¥å£ç±»å‹)                 â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚ // è·å–UseCase                                      â”‚    â”‚
â”‚  â”‚ final loginUseCase = services.loginUseCase;        â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚ // æµ‹è¯•æ—¶æ›¿æ¢                                       â”‚    â”‚
â”‚  â”‚ services.setAuthRepository(MockAuthRepository());  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ ¸å¿ƒæ”¹è¿›ç‚¹å¯¹æ¯”

### æ”¹è¿›å‰ (å½“å‰æ¶æ„)

```
Controller â†’ AppServices â†’ AuthRepository (å…·ä½“ç±») â†’ RequestManager
    â†“                            â†“
ä¸šåŠ¡é€»è¾‘æ··åœ¨Controller      ç›´æ¥ä¾èµ–å®ç°,æ— æ³•æ›¿æ¢
```

**é—®é¢˜**:
- âŒ Controllerè‡ƒè‚¿,ä¸šåŠ¡é€»è¾‘æ··æ‚
- âŒ ä¾èµ–å…·ä½“å®ç°,è¿åä¾èµ–å€’ç½®
- âŒ éš¾ä»¥æµ‹è¯•,æ— æ³•Mock
- âŒ ä¸šåŠ¡é€»è¾‘æ— æ³•å¤ç”¨

### æ”¹è¿›å (ä¼˜åŒ–æ¶æ„)

```
Controller â†’ UseCase â†’ IRepository (æ¥å£) â† RepositoryImpl â†’ RequestManager
    â†“          â†“                               â†‘
  UIçŠ¶æ€    ä¸šåŠ¡é€»è¾‘                    ServiceLocatoræ³¨å…¥
```

**ä¼˜åŠ¿**:
- âœ… ControllerèŒè´£å•ä¸€,åªç®¡UIçŠ¶æ€
- âœ… UseCaseå°è£…ä¸šåŠ¡é€»è¾‘,å¯å¤ç”¨
- âœ… ä¾èµ–æ¥å£,ç¬¦åˆä¾èµ–å€’ç½®åŸåˆ™
- âœ… æ˜“äºæµ‹è¯•,å¯Mockä»»ä½•å±‚
- âœ… å±‚çº§æ¸…æ™°,æ¶æ„ä¼˜é›…

---

## ğŸ“Š å±‚çº§èŒè´£è¯´æ˜

### Presentation Layer (è¡¨ç°å±‚)
**èŒè´£**: 
- å¤„ç†ç”¨æˆ·äº¤äº’
- ç®¡ç†UIçŠ¶æ€(loading/error/success)
- è°ƒç”¨UseCaseæ‰§è¡Œä¸šåŠ¡
- æ˜¾ç¤ºç»“æœæˆ–é”™è¯¯

**ä¸åº”è¯¥**:
- âŒ åŒ…å«ä¸šåŠ¡é€»è¾‘
- âŒ ç›´æ¥è°ƒç”¨Repository
- âŒ å¤„ç†æ•°æ®è½¬æ¢

---

### Domain Layer (é¢†åŸŸå±‚) ğŸ”¥ æ ¸å¿ƒ

**Entities (å®ä½“)**:
- ä¸šåŠ¡æ ¸å¿ƒå¯¹è±¡
- åŒ…å«ä¸šåŠ¡è§„åˆ™
- ç‹¬ç«‹äºæ¡†æ¶

**Repository Interfaces (ä»“åº“æ¥å£)**:
- å®šä¹‰æ•°æ®è®¿é—®æŠ½è±¡
- ä¸å…³å¿ƒå®ç°ç»†èŠ‚
- è¢«UseCaseä¾èµ–

**Use Cases (ç”¨ä¾‹)**:
- å°è£…å•ä¸€ä¸šåŠ¡åœºæ™¯
- åè°ƒå¤šä¸ªRepository
- åŒ…å«ä¸šåŠ¡éªŒè¯é€»è¾‘
- è¿”å›Domainå®ä½“

**ç‰¹ç‚¹**:
- âœ… ä¸ä¾èµ–ä»»ä½•å¤–å±‚
- âœ… å¯ç‹¬ç«‹æµ‹è¯•
- âœ… å¯ç‹¬ç«‹äºæ¡†æ¶å­˜åœ¨

---

### Data Layer (æ•°æ®å±‚)

**Repository Implementations (ä»“åº“å®ç°)**:
- å®ç°Domainå±‚å®šä¹‰çš„æ¥å£
- è°ƒç”¨ç½‘ç»œ/æœ¬åœ°æ•°æ®æº
- æ•°æ®æ ¼å¼è½¬æ¢
- ç»Ÿä¸€å¼‚å¸¸å¤„ç†

**Data Services**:
- æœ¬åœ°å­˜å‚¨æœåŠ¡
- ç¼“å­˜æœåŠ¡
- å…¶ä»–æ•°æ®æœåŠ¡

**èŒè´£**:
- âœ… å®ç°æ•°æ®è®¿é—®
- âœ… å¤„ç†å“åº”è§£æ
- âœ… å¼‚å¸¸è½¬æ¢

---

### Core Layer (æ ¸å¿ƒå±‚)

**ServiceLocator (ä¾èµ–æ³¨å…¥)**:
- ç®¡ç†æ‰€æœ‰æœåŠ¡å®ä¾‹
- æ¥å£ä¸å®ç°æ˜ å°„
- æ”¯æŒæµ‹è¯•æ›¿æ¢

**Network (ç½‘ç»œå±‚)**:
- HTTPå®¢æˆ·ç«¯å°è£…
- è¯·æ±‚/å“åº”æ‹¦æˆª
- ç»Ÿä¸€é”™è¯¯å¤„ç†

**Infrastructure (åŸºç¡€è®¾æ–½)**:
- é…ç½®ç®¡ç†
- æ—¥å¿—ç³»ç»Ÿ
- å·¥å…·ç±»
- å¸¸é‡å®šä¹‰

---

## ğŸš€ æ•°æ®æµå‘ç¤ºä¾‹

### ç”¨æˆ·ç™»å½•æµç¨‹

```
1. ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç ,ç‚¹å‡»ç™»å½•
   LoginPage â†’ AuthController.login()

2. Controlleræ˜¾ç¤ºloading,è°ƒç”¨UseCase
   AuthController â†’ LoginUseCase.execute(identifier, password)

3. UseCaseæ‰§è¡Œä¸šåŠ¡é€»è¾‘
   LoginUseCase:
   - éªŒè¯å‚æ•°æ ¼å¼
   - è°ƒç”¨ IAuthRepository.login(identifier, password)
   - ä¿å­˜tokenåˆ° IStorageRepository
   - è¿”å› User å®ä½“

4. Repositoryè°ƒç”¨ç½‘ç»œè¯·æ±‚
   AuthRepositoryImpl:
   - è°ƒç”¨ RequestManager.post(ApiEndpoints.login, data)
   - ä½¿ç”¨ ApiResponseHandler å¤„ç†å“åº”
   - è½¬æ¢JSON â†’ Userå®ä½“
   - ç»Ÿä¸€å¼‚å¸¸å¤„ç†

5. Networkå±‚å‘é€è¯·æ±‚
   RequestManager:
   - æ·»åŠ é€šç”¨è¯·æ±‚å¤´
   - å‘é€HTTPè¯·æ±‚
   - æ‹¦æˆªå™¨å¤„ç†(è®¤è¯/é‡è¯•/æ—¥å¿—)
   - è¿”å›å“åº”æ•°æ®

6. æ•°æ®é€å±‚è¿”å›
   Userå®ä½“ â†’ LoginUseCase â†’ AuthController

7. Controlleræ›´æ–°UI
   AuthController:
   - éšè—loading
   - æ›´æ–°ç”¨æˆ·çŠ¶æ€
   - å¯¼èˆªåˆ°é¦–é¡µ

å¼‚å¸¸å¤„ç†:
   ä»»ä½•å±‚æŠ›å‡ºå¼‚å¸¸ â†’ ApiResponseException
   â†’ LoginUseCaseæ•è· â†’ AuthControllerå¤„ç†
   â†’ æ˜¾ç¤ºé”™è¯¯Toast
```

---

## ğŸ§ª æµ‹è¯•ç¤ºä¾‹

### UseCaseå•å…ƒæµ‹è¯• (ä¸ä¾èµ–ä»»ä½•æ¡†æ¶)

```dart
void main() {
  group('LoginUseCase Tests', () {
    late LoginUseCase loginUseCase;
    late MockAuthRepository mockAuthRepo;
    late MockStorageRepository mockStorage;
    
    setUp(() {
      mockAuthRepo = MockAuthRepository();
      mockStorage = MockStorageRepository();
      loginUseCase = LoginUseCase(
        repository: mockAuthRepo,
        storage: mockStorage,
      );
    });
    
    test('æˆåŠŸç™»å½•åº”ä¿å­˜tokenå’Œç”¨æˆ·ä¿¡æ¯', () async {
      // Arrange
      final user = User(id: '1', name: 'Test', token: 'abc123');
      when(mockAuthRepo.login(any, any)).thenAnswer((_) async => user);
      
      // Act
      final result = await loginUseCase.execute(
        identifier: '13800138000',
        password: '123456',
      );
      
      // Assert
      expect(result, equals(user));
      verify(mockStorage.saveAccessToken('abc123')).called(1);
      verify(mockStorage.saveUser(user)).called(1);
    });
    
    test('ç©ºè´¦å·åº”æŠ›å‡ºéªŒè¯å¼‚å¸¸', () async {
      // Act & Assert
      expect(
        () => loginUseCase.execute(identifier: '', password: '123456'),
        throwsA(isA<ValidationException>()),
      );
    });
  });
}
```

### Controlleræµ‹è¯• (Mock UseCase)

```dart
void main() {
  group('AuthController Tests', () {
    late AuthController controller;
    late MockLoginUseCase mockLoginUseCase;
    
    setUp(() {
      mockLoginUseCase = MockLoginUseCase();
      controller = AuthController(loginUseCase: mockLoginUseCase);
    });
    
    test('ç™»å½•æˆåŠŸåº”æ›´æ–°ç”¨æˆ·çŠ¶æ€', () async {
      // Arrange
      final user = User(id: '1', name: 'Test');
      when(mockLoginUseCase.execute(any, any)).thenAnswer((_) async => user);
      
      // Act
      await controller.login();
      
      // Assert
      expect(controller.currentUser, equals(user));
      expect(controller.isLoggedIn, isTrue);
    });
  });
}
```

---

## âœ… æ¶æ„ä¼˜åŠ¿æ€»ç»“

### 1. **æ¸…æ™°çš„èŒè´£åˆ†ç¦»**
- Presentation: UIçŠ¶æ€ç®¡ç†
- Domain: ä¸šåŠ¡é€»è¾‘
- Data: æ•°æ®è®¿é—®
- Core: åŸºç¡€è®¾æ–½

### 2. **ä¾èµ–å€’ç½®åŸåˆ™**
- é«˜å±‚æ¨¡å—(Controller/UseCase)ä¾èµ–æŠ½è±¡(æ¥å£)
- ä½å±‚æ¨¡å—(Repository)å®ç°æŠ½è±¡
- ServiceLocatorç®¡ç†ä¾èµ–æ³¨å…¥

### 3. **æ˜“äºæµ‹è¯•**
- UseCaseå¯ç‹¬ç«‹æµ‹è¯•(Mock Repository)
- Controllerå¯ç‹¬ç«‹æµ‹è¯•(Mock UseCase)
- Repositoryå¯ç‹¬ç«‹æµ‹è¯•(Mock RequestManager)

### 4. **æ˜“äºç»´æŠ¤**
- ä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨UseCase,ä¿®æ”¹ä¸å½±å“UI
- Repositoryå®ç°å¯æ›¿æ¢,ä¸å½±å“ä¸šåŠ¡é€»è¾‘
- æ¥å£å®šä¹‰ç¨³å®š,å®ç°å¯çµæ´»å˜æ›´

### 5. **å¯æ‰©å±•æ€§å¼º**
- æ–°å¢åŠŸèƒ½åªéœ€æ·»åŠ UseCase
- æ–°å¢æ•°æ®æºåªéœ€æ·»åŠ Repositoryå®ç°
- UIæ¡†æ¶å¯æ›¿æ¢(GetX â†’ Riverpod)

---

**ä¸‹ä¸€æ­¥**: å¼€å§‹å®æ–½æ¶æ„ä¼˜åŒ–,ä»Authæ¨¡å—å¼€å§‹é‡æ„! ğŸš€
