# Flutter Clean Architecture æ¡†æ¶æ¦‚è¦

**åˆ›å»ºæ—¶é—´**: 2025å¹´8æœˆ9æ—¥  
**æœ€åä¿®æ”¹**: 2025å¹´8æœˆ9æ—¥  
**ç‰ˆæœ¬**: v1.0.0

## æ›´æ”¹è®°å½•

| æ—¶é—´ | ç‰ˆæœ¬ | ä¿®æ”¹å†…å®¹ | ä¿®æ”¹äºº |
|------|------|----------|--------|
| 2025-08-09 | v1.0.0 | åˆå§‹æ¶æ„æ–‡æ¡£åˆ›å»º | Flutteræ¶æ„å¸ˆ |

---

## 1. é¡¹ç›®æ¦‚è¿°

å¥‡å¥‡æ¼«æ¸¸è®°ï¼ˆqiqimanyouï¼‰é‡‡ç”¨ **Clean Architecture** åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œç»“åˆ Flutter æœ€ä½³å®è·µï¼Œå®ç°äº†é«˜å†…èšã€ä½è€¦åˆçš„ä»£ç ç»“æ„ã€‚é¡¹ç›®æ‘’å¼ƒäº†å¤æ‚çš„ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼Œé‡‡ç”¨ç®€æ´çš„å•ä¾‹æ¨¡å¼è¿›è¡ŒæœåŠ¡ç®¡ç†ï¼Œæå‡äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

### 1.1 æ ¸å¿ƒè®¾è®¡ç†å¿µ

- **ç®€æ´æ€§ä¼˜å…ˆ**: ä»£ç å¹²å‡€ï¼Œé¿å…è¿‡åº¦è®¾è®¡
- **å¯è¯»æ€§ç¬¬ä¸€**: å‘½åæ¸…æ™°ï¼Œç»“æ„ä¸€ç›®äº†ç„¶  
- **èŒè´£æ¸…æ™°**: æ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„åŠŸèƒ½
- **å®Œå…¨è§£è€¦**: ä¸šåŠ¡ä»£ç ä¸åŸºç¡€è®¾æ–½å®Œå…¨åˆ†ç¦»

---

## 2. æ¶æ„åˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Presentation Layer          â”‚  â† UIå±‚ï¼šé¡µé¢ã€æ§åˆ¶å™¨ã€ç»„ä»¶
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Domain Layer               â”‚  â† é¢†åŸŸå±‚ï¼šå®ä½“ã€ä¸šåŠ¡è§„åˆ™
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               Data Layer                â”‚  â† æ•°æ®å±‚ï¼šä»“åº“ã€æœåŠ¡ã€API
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               Core Layer                â”‚  â† æ ¸å¿ƒå±‚ï¼šç½‘ç»œã€é…ç½®ã€å·¥å…·
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.1 è¡¨ç°å±‚ (Presentation Layer)
- **é¡µé¢ (Pages)**: ç”¨æˆ·ç•Œé¢ç»„ä»¶
- **æ§åˆ¶å™¨ (Controllers)**: GetXçŠ¶æ€ç®¡ç†
- **ç»„ä»¶ (Widgets)**: å¯å¤ç”¨UIç»„ä»¶

### 2.2 é¢†åŸŸå±‚ (Domain Layer)  
- **å®ä½“ (Entities)**: ä¸šåŠ¡æ ¸å¿ƒå¯¹è±¡
- **ç”¨ä¾‹ (Use Cases)**: ä¸šåŠ¡é€»è¾‘å°è£…

### 2.3 æ•°æ®å±‚ (Data Layer)
- **ä»“åº“ (Repositories)**: æ•°æ®è®¿é—®æŠ½è±¡
- **æœåŠ¡ (Services)**: å…·ä½“æ•°æ®æºå®ç°
- **æ¨¡å‹ (Models)**: æ•°æ®ä¼ è¾“å¯¹è±¡

### 2.4 æ ¸å¿ƒå±‚ (Core Layer)
- **ç½‘ç»œæ¡†æ¶**: ç»Ÿä¸€çš„HTTPè¯·æ±‚ç®¡ç†
- **é…ç½®ç®¡ç†**: å¤šç¯å¢ƒé…ç½®æ”¯æŒ
- **å·¥å…·ç±»**: é€šç”¨åŠŸèƒ½ç»„ä»¶
- **å¸¸é‡å®šä¹‰**: åº”ç”¨å¸¸é‡é›†ä¸­ç®¡ç†

---

## 3. æ ¸å¿ƒæ¡†æ¶ç»„ä»¶

### 3.1 ğŸŒ ç½‘ç»œå±‚æ¡†æ¶

#### 3.1.1 ApiConfig - APIé…ç½®ç®¡ç†
```dart
class ApiConfig {
  static ApiConfig get instance => _instance;
  
  // æ”¯æŒå¤šç¯å¢ƒé…ç½®
  static void initDev();    // å¼€å‘ç¯å¢ƒ
  static void initTest();   // æµ‹è¯•ç¯å¢ƒ  
  static void initProd();   // ç”Ÿäº§ç¯å¢ƒ
}
```

**æ ¸å¿ƒåŠŸèƒ½:**
- å¤šç¯å¢ƒé…ç½®æ”¯æŒ
- è¶…æ—¶æ—¶é—´ç®¡ç†
- è¯·æ±‚å¤´é…ç½®
- æ—¥å¿—æ§åˆ¶å¼€å…³

#### 3.1.2 NetworkClient - ç½‘ç»œå®¢æˆ·ç«¯
```dart
class NetworkClient {
  static NetworkClient get instance => _instance;
  
  // HTTPå®¢æˆ·ç«¯è®¿é—®
  HttpClient get httpClient;
  
  // æ‹¦æˆªå™¨ç®¡ç†
  void addInterceptor(Interceptor interceptor);
  T? getInterceptor<T extends Interceptor>();
}
```

**è®¾è®¡ç‰¹ç‚¹:**
- ğŸ”Œ **æ‹¦æˆªå™¨æ¶æ„**: è®¤è¯ã€é‡è¯•ã€ç¼“å­˜ã€æ—¥å¿—ç­‰åŠŸèƒ½æ¨¡å—åŒ–
- ğŸ”’ **å•ä¾‹æ¨¡å¼**: å…¨å±€å”¯ä¸€å®ä¾‹ï¼Œç¡®ä¿é…ç½®ä¸€è‡´æ€§
- ğŸ“ **åˆ†å±‚è®¾è®¡**: NetworkClient â†’ HttpClient â†’ Dio

#### 3.1.3 RequestManager - è¯·æ±‚ç®¡ç†å™¨
```dart
class RequestManager {
  static RequestManager get instance => _instance;
  
  // HTTPæ–¹æ³•
  Future<T> get<T>(String path, ...);
  Future<T> post<T>(String path, {dynamic data, ...});
  Future<T> put<T>(String path, ...);
  Future<T> delete<T>(String path, ...);
  Future<T> patch<T>(String path, ...);
  
  // æ–‡ä»¶æ“ä½œ
  Future<T> upload<T>(String path, FormData formData, ...);
  Future<void> download(String urlPath, String savePath, ...);
  
  // è®¤è¯ç®¡ç†
  void setAuthToken(String token);
  void clearAuthToken();
}
```

**æ ¸å¿ƒä¼˜åŠ¿:**
- ğŸ¯ **ä¸šåŠ¡å‹å¥½**: ç›´æ¥è¿”å›æ•°æ®ï¼Œç»Ÿä¸€é”™è¯¯å¤„ç†
- ğŸ”„ **å®Œæ•´HTTPæ”¯æŒ**: GET/POST/PUT/DELETE/PATCH
- ğŸ“ **æ–‡ä»¶å¤„ç†**: ä¸Šä¼ ä¸‹è½½ï¼Œè¿›åº¦å›è°ƒ
- ğŸ” **è®¤è¯é›†æˆ**: Tokenè‡ªåŠ¨ç®¡ç†

### 3.2 ğŸ—ï¸ æœåŠ¡ç®¡ç†æ¡†æ¶

#### 3.2.1 AppServices - ç»Ÿä¸€æœåŠ¡ç®¡ç†å™¨
```dart
class AppServices {
  static AppServices get instance => _instance;
  
  // æ ¸å¿ƒæœåŠ¡è®¿é—®å™¨
  LocalStorageService get localStorage;
  UserService get userService;
  AuthRepository get authRepository;
  VocabularyRepository get vocabularyRepository;
}
```

**è®¾è®¡ä¼˜åŠ¿:**
- ğŸ¯ **ç›´è§‚è®¿é—®**: `AppServices.instance.userService`
- ğŸš€ **æ‡’åŠ è½½**: æœåŠ¡åœ¨é¦–æ¬¡ä½¿ç”¨æ—¶åˆ›å»º
- ğŸ”„ **æ˜“æµ‹è¯•**: æ”¯æŒæœåŠ¡é‡ç½®å’ŒMock
- ğŸ“ **ç±»å‹å®‰å…¨**: IDEå®Œæ•´ä»£ç æç¤º

### 3.3 ğŸ”— æ‹¦æˆªå™¨ç³»ç»Ÿ

#### 3.3.1 è®¤è¯æ‹¦æˆªå™¨ (AuthInterceptor)
```dart
class AuthInterceptor extends Interceptor {
  void setToken(String token);
  void clearToken();
  
  @override
  void onRequest(RequestOptions options, RequestInterceptorHandler handler);
}
```

#### 3.3.2 ç¼“å­˜æ‹¦æˆªå™¨ (CacheInterceptor)  
```dart
class CacheInterceptor extends Interceptor {
  void clearAllCache();
  Map<String, dynamic> getCacheStats();
  
  // å·¥å‚æ–¹æ³•
  factory CacheInterceptor.shortTerm(); // 30ä¸ªç¼“å­˜é¡¹
  factory CacheInterceptor.longTerm();  // 100ä¸ªç¼“å­˜é¡¹
}
```

#### 3.3.3 é‡è¯•æ‹¦æˆªå™¨ (RetryInterceptor)
```dart
class RetryInterceptor extends Interceptor {
  final int maxRetries;
  final Duration retryDelay;
  
  @override
  void onError(DioError err, ErrorInterceptorHandler handler);
}
```

#### 3.3.4 æ—¥å¿—æ‹¦æˆªå™¨ (LoggingInterceptor)
```dart
class LoggingInterceptor extends Interceptor {
  // å·¥å‚æ–¹æ³•  
  factory LoggingInterceptor.simple();   // åŸºç¡€æ—¥å¿—
  factory LoggingInterceptor.verbose();  // è¯¦ç»†æ—¥å¿—
}
```

### 3.4 ğŸ“± åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†

#### 3.4.1 AppInitializer - åº”ç”¨åˆå§‹åŒ–å™¨
```dart
class AppInitializer {
  static Future<void> initialize() async {
    // 1. ç¡®ä¿Flutterç»‘å®šåˆå§‹åŒ–
    WidgetsFlutterBinding.ensureInitialized();
    
    // 2. è®¾ç½®ç³»ç»ŸUIæ ·å¼
    _setSystemUIOverlayStyle();
    
    // 3. åˆå§‹åŒ–åº”ç”¨æœåŠ¡
    await AppServices.instance.initialize();
    
    // 4. åˆå§‹åŒ–UIç»„ä»¶
    _initializeUI();
  }
}
```

### 3.5 ğŸ“ æ—¥å¿—ç³»ç»Ÿ

#### 3.5.1 AppLogger - åº”ç”¨æ—¥å¿—ç®¡ç†å™¨
```dart
class AppLogger {
  static void verbose(String message, [dynamic error, StackTrace? stackTrace]);
  static void debug(String message, [dynamic error, StackTrace? stackTrace]);
  static void info(String message, [dynamic error, StackTrace? stackTrace]);
  static void warning(String message, [dynamic error, StackTrace? stackTrace]);  
  static void error(String message, [dynamic error, StackTrace? stackTrace]);
  static void wtf(String message, [dynamic error, StackTrace? stackTrace]);
}
```

**ç‰¹æ€§:**
- ğŸ¨ **ç¾åŒ–è¾“å‡º**: emojiã€é¢œè‰²ã€æ—¶é—´æˆ³
- ğŸ” **é”™è¯¯è¿½è¸ª**: æ”¯æŒå †æ ˆè·Ÿè¸ª
- âš™ï¸ **å¯é…ç½®**: æ”¯æŒä¸åŒæ—¥å¿—çº§åˆ«

---

## 4. ä¾èµ–åº“è¯´æ˜

### 4.1 æ ¸å¿ƒä¾èµ–

| åº“å | ç‰ˆæœ¬ | ç”¨é€” | æ–‡æ¡£é“¾æ¥ |
|------|------|------|----------|
| **flutter** | SDK | Flutteræ ¸å¿ƒæ¡†æ¶ | [Flutter.dev](https://flutter.dev) |
| **get** | 4.6.5 | çŠ¶æ€ç®¡ç†ã€è·¯ç”±ã€ä¾èµ–æ³¨å…¥ | [GetX](https://github.com/jonataslaw/getx) |
| **dio** | 4.0.6 | HTTPå®¢æˆ·ç«¯ | [Dio](https://github.com/flutterchina/dio) |
| **logger** | 1.4.0 | æ—¥å¿—ç®¡ç† | [Logger](https://pub.dev/packages/logger) |

### 4.2 å­˜å‚¨ç›¸å…³

| åº“å | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **shared_preferences** | 2.2.2 | ç®€å•é”®å€¼å­˜å‚¨ |
| **flutter_secure_storage** | 7.0.1 | å®‰å…¨å­˜å‚¨(Tokenç­‰æ•æ„Ÿä¿¡æ¯) |

### 4.3 ç½‘ç»œç›¸å…³

| åº“å | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **connectivity_plus** | 3.0.6 | ç½‘ç»œè¿æ¥çŠ¶æ€æ£€æµ‹ |
| **dio** | 4.0.6 | HTTPè¯·æ±‚å®¢æˆ·ç«¯ |

### 4.4 UIç›¸å…³

| åº“å | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **flutter_easyloading** | 3.0.5 | åŠ è½½æŒ‡ç¤ºå™¨ |
| **flutter_screenutil** | 5.7.0 | å±å¹•é€‚é… |

---

## 5. æ–‡ä»¶ç»“æ„

```
lib/
â”œâ”€â”€ core/                        # æ ¸å¿ƒå±‚
â”‚   â”œâ”€â”€ network/                 # ç½‘ç»œæ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ api_config.dart      # APIé…ç½®
â”‚   â”‚   â”œâ”€â”€ network_client.dart  # ç½‘ç»œå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ request_manager.dart # è¯·æ±‚ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ http_client.dart     # HTTPå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ network_exceptions.dart # ç½‘ç»œå¼‚å¸¸
â”‚   â”‚   â”œâ”€â”€ network.dart         # ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚   â””â”€â”€ interceptors/        # æ‹¦æˆªå™¨ç›®å½•
â”‚   â”‚       â”œâ”€â”€ auth_interceptor.dart
â”‚   â”‚       â”œâ”€â”€ cache_interceptor.dart
â”‚   â”‚       â”œâ”€â”€ retry_interceptor.dart
â”‚   â”‚       â”œâ”€â”€ logging_interceptor.dart
â”‚   â”‚       â””â”€â”€ network_status_interceptor.dart
â”‚   â”œâ”€â”€ services/                # æœåŠ¡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ app_services.dart    # åº”ç”¨æœåŠ¡ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ services.dart        # ä¾¿æ·å¯¼å‡º
â”‚   â”œâ”€â”€ config/                  # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ env_config.dart      # ç¯å¢ƒé…ç½®
â”‚   â”‚   â””â”€â”€ environment_config.dart # ç¯å¢ƒé…ç½®ç±»
â”‚   â”œâ”€â”€ constants/               # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ app_constants.dart   # åº”ç”¨å¸¸é‡
â”‚   â”‚   â””â”€â”€ api_endpoints.dart   # APIç«¯ç‚¹
â”‚   â”œâ”€â”€ exceptions/              # å¼‚å¸¸å®šä¹‰
â”‚   â”‚   â””â”€â”€ app_exceptions.dart  # åº”ç”¨å¼‚å¸¸
â”‚   â”œâ”€â”€ logging/                 # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ app_logger.dart      # æ—¥å¿—ç®¡ç†å™¨
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·ç±»
â”‚   â””â”€â”€ app_initializer.dart     # åº”ç”¨åˆå§‹åŒ–å™¨
â”œâ”€â”€ data/                        # æ•°æ®å±‚
â”‚   â”œâ”€â”€ repositories/            # ä»“åº“å®ç°
â”‚   â”‚   â”œâ”€â”€ auth_repository.dart
â”‚   â”‚   â””â”€â”€ vocabulary_repository.dart
â”‚   â””â”€â”€ services/                # æ•°æ®æœåŠ¡
â”‚       â”œâ”€â”€ local_storage_service.dart
â”‚       â””â”€â”€ user_service.dart
â”œâ”€â”€ domain/                      # é¢†åŸŸå±‚
â”‚   â””â”€â”€ entities/                # ä¸šåŠ¡å®ä½“
â”‚       â””â”€â”€ user.dart
â”œâ”€â”€ presentation/                # è¡¨ç°å±‚
â”‚   â”œâ”€â”€ controllers/             # GetXæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ home_controller.dart
â”‚   â”‚   â””â”€â”€ network_test_controller.dart
â”‚   â”œâ”€â”€ pages/                   # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ home_page.dart
â”‚   â”‚   â””â”€â”€ welcome_page.dart
â”‚   â””â”€â”€ widgets/                 # ç»„ä»¶
â”‚       â”œâ”€â”€ vocabulary_tab.dart
â”‚       â””â”€â”€ profile_tab.dart
â”œâ”€â”€ config/                      # ç¯å¢ƒé…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ dev.env                  # å¼€å‘ç¯å¢ƒ
â”‚   â”œâ”€â”€ test.env                 # æµ‹è¯•ç¯å¢ƒ
â”‚   â””â”€â”€ prod.env                 # ç”Ÿäº§ç¯å¢ƒ
â””â”€â”€ main.dart                    # åº”ç”¨å…¥å£
```

---

## 6. è®¾è®¡åŸåˆ™

### 6.1 SOLIDåŸåˆ™å®ç°

#### 6.1.1 å•ä¸€èŒè´£åŸåˆ™ (SRP)
- æ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½é¢†åŸŸ
- æ‹¦æˆªå™¨å„å¸å…¶èŒï¼ŒåŠŸèƒ½å•ä¸€

#### 6.1.2 å¼€é—­åŸåˆ™ (OCP)
- é€šè¿‡æ‹¦æˆªå™¨æ¨¡å¼æ”¯æŒåŠŸèƒ½æ‰©å±•
- æœåŠ¡å¯ä»¥è½»æ¾æ·»åŠ æ–°åŠŸèƒ½

#### 6.1.3 é‡Œæ°æ›¿æ¢åŸåˆ™ (LSP)
- ç»Ÿä¸€çš„æ¥å£å®šä¹‰
- å¯æ›¿æ¢çš„æœåŠ¡å®ç°

#### 6.1.4 æ¥å£éš”ç¦»åŸåˆ™ (ISP)
- RequestManageræä¾›ç®€æ´çš„ä¸šåŠ¡æ¥å£
- å„å±‚åªæš´éœ²å¿…è¦çš„æ–¹æ³•

#### 6.1.5 ä¾èµ–å€’ç½®åŸåˆ™ (DIP)
- ä¸šåŠ¡å±‚ä¾èµ–æŠ½è±¡ï¼Œä¸ä¾èµ–å…·ä½“å®ç°
- é€šè¿‡AppServicesè§£è€¦å…·ä½“æœåŠ¡

### 6.2 æ¶æ„ç‰¹ç‚¹

- **ç®€æ´æ€§**: æ‘’å¼ƒå¤æ‚çš„ä¾èµ–æ³¨å…¥ï¼Œé‡‡ç”¨ç›´è§‚çš„å•ä¾‹æ¨¡å¼
- **æ¨¡å—åŒ–**: æ¸…æ™°çš„åˆ†å±‚ç»“æ„ï¼Œå„å±‚èŒè´£æ˜ç¡®
- **å¯æ‰©å±•**: æ‹¦æˆªå™¨æ¨¡å¼æ”¯æŒåŠŸèƒ½æ‰©å±•
- **æ˜“ç»´æŠ¤**: ç»Ÿä¸€çš„æœåŠ¡ç®¡ç†ï¼Œä¾¿äºè°ƒè¯•å’Œæµ‹è¯•
- **é«˜æ€§èƒ½**: æ‡’åŠ è½½ã€ç¼“å­˜æœºåˆ¶ã€è¿æ¥ä¼˜åŒ–

---

## 7. ä¾èµ–å…³ç³»å›¾

```mermaid
graph TB
    A[Presentation Layer] --> B[Domain Layer]
    A --> F[AppServices]
    B --> C[Data Layer]
    C --> D[Core Network]
    C --> F
    F --> G[LocalStorage]
    F --> H[UserService]
    F --> I[AuthRepository]
    D --> J[NetworkClient]
    D --> K[RequestManager]
    J --> L[Interceptors]
    
    subgraph "Core Layer"
        D
        J
        K
        L
        M[ApiConfig]
        N[AppLogger]
    end
    
    subgraph "Data Layer"
        C
        G
        H
        I
    end
    
    subgraph "Domain Layer"  
        B
        O[User Entity]
    end
    
    subgraph "Presentation Layer"
        A
        P[Pages]
        Q[Controllers]
        R[Widgets]
    end
```

---

## 8. ç½‘ç»œå±‚æµç¨‹å›¾

```mermaid
sequenceDiagram
    participant Business as ä¸šåŠ¡å±‚
    participant RM as RequestManager
    participant NC as NetworkClient
    participant HC as HttpClient
    participant Dio as Dioåº“
    
    Business->>RM: å‘èµ·è¯·æ±‚
    RM->>NC: è·å–HttpClient
    NC->>HC: æ‰§è¡ŒHTTPè¯·æ±‚
    HC->>Dio: åŸå§‹HTTPè°ƒç”¨
    
    Note over Dio: æ‹¦æˆªå™¨æ‰§è¡Œé¡ºåº:
    Note over Dio: 1. NetworkStatus
    Note over Dio: 2. Auth
    Note over Dio: 3. Cache
    Note over Dio: 4. Retry
    Note over Dio: 5. Logging
    
    Dio-->>HC: è¿”å›å“åº”
    HC-->>NC: å¤„ç†å“åº”
    NC-->>RM: å°è£…ç»“æœ
    RM-->>Business: è¿”å›æ•°æ®
```

---

## 9. ç¯å¢ƒé…ç½®æµç¨‹

```mermaid
graph LR
    A[åº”ç”¨å¯åŠ¨] --> B[åŠ è½½.envæ–‡ä»¶]
    B --> C[è§£æé…ç½®]
    C --> D[åˆå§‹åŒ–ApiConfig]
    D --> E[é…ç½®NetworkClient]
    E --> F[åˆå§‹åŒ–AppServices]
    F --> G[åº”ç”¨å°±ç»ª]
    
    subgraph "ç¯å¢ƒæ–‡ä»¶"
        H[dev.env]
        I[test.env]
        J[prod.env]
    end
    
    B --> H
    B --> I  
    B --> J
```

---

## 10. æ€»ç»“

æœ¬æ¶æ„çš„æ ¸å¿ƒç‰¹ç‚¹ï¼š

1. **ç®€æ´æ€§** - æ‘’å¼ƒå¤æ‚çš„ä¾èµ–æ³¨å…¥ï¼Œé‡‡ç”¨ç›´è§‚çš„å•ä¾‹æ¨¡å¼
2. **æ¨¡å—åŒ–** - æ¸…æ™°çš„åˆ†å±‚ç»“æ„ï¼Œå„å±‚èŒè´£æ˜ç¡®
3. **å¯æ‰©å±•** - æ‹¦æˆªå™¨æ¨¡å¼æ”¯æŒåŠŸèƒ½æ‰©å±•
4. **æ˜“ç»´æŠ¤** - ç»Ÿä¸€çš„æœåŠ¡ç®¡ç†ï¼Œä¾¿äºè°ƒè¯•å’Œæµ‹è¯•
5. **é«˜æ€§èƒ½** - æ‡’åŠ è½½ã€ç¼“å­˜æœºåˆ¶ã€è¿æ¥ä¼˜åŒ–

è¿™ä¸ªæ¶æ„ä¸ºå›¢é˜Ÿæä¾›äº†ä¸€ä¸ªç¨³å®šã€é«˜æ•ˆã€æ˜“äºç†è§£çš„å¼€å‘åŸºç¡€ï¼Œæ”¯æŒå¿«é€Ÿçš„ä¸šåŠ¡åŠŸèƒ½å¼€å‘å’Œé•¿æœŸçš„é¡¹ç›®ç»´æŠ¤ã€‚

---

## 11. åæ€ä¸éªŒè¯

### 11.1 å®Œæ•´æ€§æ£€æŸ¥ âœ…
- âœ… æ¶µç›–äº†æ¶æ„çš„æ ¸å¿ƒç»„ä»¶å’Œè®¾è®¡ç†å¿µ
- âœ… åŒ…å«äº†å®Œæ•´çš„æ–‡ä»¶ç»“æ„å’Œä¾èµ–å…³ç³»
- âœ… æä¾›äº†è¯¦ç»†çš„ç±»å’Œæ–¹æ³•è¯´æ˜

### 11.2 å‡†ç¡®æ€§éªŒè¯ âœ…  
- âœ… æ‰€æœ‰ä»£ç ç¤ºä¾‹å‡æ¥è‡ªå®é™…é¡¹ç›®æ–‡ä»¶
- âœ… ç‰ˆæœ¬å·å’Œä¾èµ–åº“ä¿¡æ¯å‡†ç¡®æ— è¯¯
- âœ… æµç¨‹å›¾å’Œæ¶æ„å›¾ç¬¦åˆå®é™…è®¾è®¡

### 11.3 å®ç”¨æ€§è¯„ä¼° âœ…
- âœ… æ–‡æ¡£å¯ç›´æ¥ç”¨äºæ–°æˆå‘˜å¿«é€Ÿäº†è§£é¡¹ç›®
- âœ… æä¾›äº†å…·ä½“çš„ä½¿ç”¨æ–¹å¼å’Œæœ€ä½³å®è·µ
- âœ… æ¶æ„è®¾è®¡æ”¯æŒå¿«é€Ÿä¸šåŠ¡åŠŸèƒ½å¼€å‘

### 11.4 æ½œåœ¨æ”¹è¿›å»ºè®®
- ğŸ”§ å¯å¢åŠ å•å…ƒæµ‹è¯•ç¤ºä¾‹
- ğŸ”§ å¯è¡¥å……é”™è¯¯å¤„ç†æœ€ä½³å®è·µ
- ğŸ”§ å¯æ·»åŠ æ€§èƒ½ä¼˜åŒ–æŒ‡å—
