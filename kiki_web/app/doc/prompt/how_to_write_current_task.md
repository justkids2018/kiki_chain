# 如何编写高效的 current-task.md

## 文件作用
`current-task.md` 是 AI 了解你当前开发重点的关键文件。配合自定义模式，让 AI 能够：
- 理解当前的开发目标
- 知道任务的优先级
- 了解技术约束和要求
- 提供针对性的建议

---

## 📝 推荐的文件结构

### 1. **任务概述**（必须）
```markdown
# 当前开发任务

## 主要任务
- [ ] 核心任务1
- [ ] 核心任务2
- [ ] 核心任务3
```

**要点**：
- 用 `- [ ]` 格式，AI 能识别任务清单
- 3-5个主要任务为佳，不要太多
- 用动词开头：创建、实现、优化、修复

### 2. **具体实现点**（详细分解）
```markdown
## 具体实现点

### 🏗️ 功能模块1
- [ ] 具体任务A
- [ ] 具体任务B

### 📝 功能模块2  
- [ ] 具体任务C
- [ ] 具体任务D
```

**要点**：
- 用图标分类，增强可读性
- 每个大任务拆分成3-6个小任务
- 小任务要具体可执行

### 3. **技术要求**（关键）
```markdown
## 技术要求
- **架构**：遵循 Clean Architecture
- **状态管理**：使用 Riverpod
- **UI框架**：Material 3
- **代码质量**：包含单元测试
```

**要点**：
- 明确技术栈，避免 AI 选择错误的技术
- 指定架构模式
- 说明代码质量要求

### 4. **优先级和约束**
```markdown
## 注意事项
- **优先级**：安全性 > 用户体验 > 性能
- **兼容性**：必须支持移动端和桌面端
- **时间约束**：核心功能需在3天内完成
```

**要点**：
- 明确优先级，帮助 AI 做选择
- 说明重要约束条件
- 设定时间预期

---

## ✅ 好的 current-task.md 示例

```markdown
# 当前开发任务

## 主要任务
- [ ] 创建用户认证系统
- [ ] 实现登录/注册页面
- [ ] 集成后端API接口

## 具体实现点

### 🔐 认证系统
- [ ] 设计用户状态管理架构
- [ ] 实现登录状态持久化
- [ ] 添加token刷新机制

### 📱 登录页面
- [ ] 创建响应式登录表单
- [ ] 实现表单验证逻辑
- [ ] 添加加载状态和错误处理

### 🔗 API集成
- [ ] 封装认证API调用
- [ ] 处理网络错误和重试
- [ ] 实现请求拦截器

## 技术要求
- **架构**：Clean Architecture + Riverpod
- **UI**：Material 3 设计规范
- **安全**：密码加密，token安全存储
- **测试**：覆盖率 > 80%

## 优先级
1. 登录功能正常运行（P0）
2. 用户体验流畅（P1）  
3. 性能优化（P2）

## 完成标准
- [ ] 用户能成功登录/注册
- [ ] 移动端和桌面端适配完整
- [ ] 代码通过review
- [ ] 单元测试通过

---
**创建时间**：2025年8月19日
**预计完成**：2025年8月22日
**负责人**：前端开发团队
```

---

## ❌ 避免的写法

### 1. **过于简单**
```markdown
❌ # 当前任务
做登录功能
```
**问题**：太模糊，AI 不知道具体要做什么

### 2. **过于复杂**
```markdown
❌ ## 登录功能详细需求分析文档
包含完整的产品需求、技术方案、测试计划...（长达几页）
```
**问题**：太长，核心信息被淹没

### 3. **缺乏结构**
```markdown
❌ 需要做登录，还要注册，API要调通，
界面要好看，代码要简洁，测试要完整...
```
**问题**：没有优先级，AI 不知道先做什么

---

## 🎯 与自定义模式的配合

### **current-task.md 的作用**
- 告诉 AI **当前重点**（不需要说项目背景，自定义模式已知）
- 提供 **具体任务清单**（AI 可以逐项实现）
- 明确 **优先级**（AI 知道先做什么）

### **配合使用效果**
```
用户："有什么建议？"
AI读取：
1. 自定义模式 → 了解项目是Flutter+Riverpod
2. current-task.md → 知道当前在做登录功能
3. 基础规范 → 遵循代码规范和架构要求
AI回复：基于当前登录任务的具体建议
```

---

## 📋 不同类型任务的模板

### **新功能开发**
```markdown
# 当前开发任务
## 主要任务
- [ ] 设计 [功能] 架构
- [ ] 实现核心逻辑
- [ ] 创建用户界面
- [ ] 集成测试验证
```

### **功能优化**
```markdown
# 当前开发任务  
## 主要任务
- [ ] 分析现有 [功能] 性能瓶颈
- [ ] 优化关键代码路径
- [ ] 改进用户体验
- [ ] 验证优化效果
```

### **Bug修复**
```markdown
# 当前开发任务
## 主要任务
- [ ] 复现和定位 [Bug] 根因
- [ ] 设计修复方案
- [ ] 实现修复代码
- [ ] 验证修复效果和回归测试
```

---

## 💡 写好 current-task.md 的关键

1. **具体可执行** - 每个任务都能直接动手做
2. **优先级清晰** - AI 知道先做什么
3. **技术明确** - 避免 AI 选错技术栈
4. **标准清楚** - AI 知道什么算完成
5. **定期更新** - 完成任务及时打勾 `- [x]`

这样写出来的 current-task.md，配合自定义模式，效果会非常好！
